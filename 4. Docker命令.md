# Docker命令

```shell
docker 命令 --help 帮助文档
```

帮助文档的地址：https://docs.docker.com/reference/

## 镜像命令

```shell
docker images   # 获得所有的本地镜像 -a 列出所有镜像 -q 列出所有镜像的id
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
hello-world   latest    feb5d9fea6a5   15 hours ago   13.3kB

docker search mysql # 在docker hub里面搜索mysql相关的docker容器
NAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
mysql                             MySQL is a widely used, open-source relation…   11461     [OK]       
mariadb                           MariaDB Server is a high performing open sou…   4351      [OK]       
mysql/mysql-server                Optimized MySQL Server Docker images. Create…   848                  [OK]

docker pull mysql # 下载镜像 

docker pull mysql:5.7 # 指定下载版本

docker rmi -f {IMAGE ID} # 删除镜像
```

## 容器命令

#### 有了镜像我们才能够创建容器

```shell
docker run {可选参数} {image} # 启动容器
#参数说明
--name="Name" 容器名字，hadoop01， hadoop02
-d 			  后台方式
-it 		  使用交互方式运行
-p			  指定容器的端口 -p 8080:8080
	-p 主机端口:容器端口（常用）
	-p 容器端口
	

docker run -it --network some-network --rm mysql mysql -hsome-mysql -uexample-user -p  # 使用mysql容器



docker ps #显示历史启动的容器

docker rm {容器id} # 从容器列表删除

# 启动和停止容器
docker start {容器id} 
docker restart {容器id} 
docker stop {容器id} 
docker kill {容器id} 

exit #容器停止加退出
docker exec -it {容器id} # 重新进入容器，开启一个新终端(常用)
docker attach -it {容器id} # 进入容器正在执行的终端 不会启动新终端
```

```shell
ctl + p + q # 容器不停止但是退出到主机
```

#### 后台启动容器

```shell
# 如果docker容器后台运行但是没有前台进程，docker法系哦哦按之后就会自动停止

```

#### 查看日志和元数据

```shell
docker logs
docker inspect
```

#### 容器内数据拷贝到本机内

```shell
docker cp {dockerID}:{文件路径} {本机路径}
```



